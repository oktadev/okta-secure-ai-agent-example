# ============================================================================
# RESOURCE SERVER CONFIGURATION
# ============================================================================
# These variables configure the Express server that handles HTTP requests,
# serves the UI, and manages authentication endpoints.

# [Resource Server] Port for the HTTP server
# Default: 3000
PORT=3000

# [Resource Server] Secret key for session encryption
# REQUIRED for production - use a long, random string
# Default: 'default-secret-change-in-production' (insecure)
SESSION_SECRET=your_session_secret_here

# ============================================================================
# AGENT - MCP CLIENT CONFIGURATION
# ============================================================================
# These variables configure the Agent's MCP client connection to the todo0
# MCP server.

# [Agent] URL to the MCP server (running in todo0 package)
# Default: http://localhost:3001
MCP_SERVER_URL=http://localhost:3001/sse

# ============================================================================
# AGENT - LLM INTEGRATION CONFIGURATION
# ============================================================================
# These variables configure the Agent's integration with Anthropic's Claude AI.

# [Agent] Your Anthropic API key for Claude
# REQUIRED for AI chat functionality
# Get yours at: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# [Agent] Claude model to use
# Default: claude-3-5-sonnet-20241022
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# ============================================================================
# RESOURCE SERVER - OKTA OAUTH (HUMAN SSO)
# ============================================================================
# These variables configure user authentication via Okta OAuth for the
# Resource Server. This is used for human users logging into the web UI.

# [Resource Server] Your Okta domain (e.g., dev-12345.okta.com)
# REQUIRED for user authentication
OKTA_DOMAIN=your_okta_domain

# [Resource Server] OAuth client ID for user authentication
# REQUIRED for user authentication
OKTA_CLIENT_ID=your_okta_client_id

# [Resource Server] OAuth client secret
# REQUIRED for user authentication
OKTA_CLIENT_SECRET=your_okta_client_secret

# [Resource Server] OAuth callback URL
# Default: http://localhost:{PORT}/callback
# Must match the redirect URI configured in your Okta application
OKTA_REDIRECT_URI=http://localhost:3000/callback

# ============================================================================
# AGENT - CROSS-APP ACCESS (ID-JAG TOKEN EXCHANGE)
# ============================================================================
# These variables configure the Agent's ability to exchange user ID tokens
# for service tokens to access the todo0 API on behalf of users.
# This implements the ID-JAG (ID Assertion JWT Authorization Grant) flow.

# [Agent] Client ID for the AI agent service account (workload identity)
# REQUIRED for cross-app access token exchange
# This is the agent's identity in Okta, separate from the OAuth client
AI_AGENT_ID=your_ai_agent_client_id

# [Agent] Path to private key file for JWT authentication
# REQUIRED for cross-app access token exchange
# Relative to the agent0 package directory
# Example: keys/private-key.pem
OKTA_CC_PRIVATE_KEY_FILE=path/to/private-key.pem

# [Agent] Target audience for service tokens
# REQUIRED for cross-app access token exchange
# This is typically the API identifier for the todo0 service
# Default: api://default
TARGET_SERVICE_AUDIENCE=api://default

# [Agent] Okta token endpoint for ID-JAG exchange (Step 1)
# REQUIRED for cross-app access token exchange
# Format: https://{OKTA_DOMAIN}/oauth2/v1/token
OKTA_TOKEN_ENDPOINT=https://your_okta_domain/oauth2/v1/token

# [Agent] Resource authorization server token endpoint (Step 2)
# OPTIONAL - defaults to Okta Custom AS if not set
# Format: https://{OKTA_DOMAIN}/oauth2/default/v1/token
# Default: https://{OKTA_DOMAIN}/oauth2/default/v1/token
RESOURCE_TOKEN_ENDPOINT=https://your_okta_domain/oauth2/default/v1/token
