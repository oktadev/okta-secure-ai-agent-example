# ============================================================================
# REST API SERVER CONFIGURATION
# ============================================================================
# These variables configure the Express REST API server that handles
# todo CRUD operations with Prisma database access.

# [REST API] Port for the REST API server
# Default: 5001
PORT=5001

# ============================================================================
# REST API - OKTA JWT AUTHENTICATION
# ============================================================================
# These variables configure JWT validation for protecting the REST API
# endpoints. The REST API validates tokens issued by Okta Custom AS.

# [REST API] Okta issuer URL for JWT validation
# REQUIRED for API authentication
# Format: https://{OKTA_DOMAIN}/oauth2/default
# This should point to your Okta Custom Authorization Server
OKTA_ISSUER=https://your_okta_domain/oauth2/default

# [REST API] OAuth client ID
# REQUIRED for JWT validation
# Used to validate the client_id claim in access tokens
OKTA_CLIENT_ID=your_okta_client_id

# [REST API] Expected audience in JWT validation
# REQUIRED for API protection
# Default: api://default
# This validates the aud (audience) claim in access tokens
EXPECTED_AUDIENCE=api://default

# ============================================================================
# MCP SERVER CONFIGURATION
# ============================================================================
# These variables configure the MCP (Model Context Protocol) server that
# provides tools for the agent0 AI agent to manage todos.
# The MCP server acts as a bridge between the AI agent and the REST API.

# [MCP Server] Port for the MCP server
# Default: 3001
# NOTE: This is different from the REST API port (5001)
# The MCP server runs separately and exposes tools over SSE
MCP_PORT=3001

# [MCP Server] Base URL for the todo REST API
# Default: http://localhost:5001
# The MCP server makes internal API calls to this URL
TODO_API_BASE_URL=http://localhost:5001

# NOTE: Access tokens are NOT configured here
# The MCP server receives access tokens dynamically from agent0 through the
# MCP protocol on each tool call. Agent0 obtains tokens via the cross-app
# access flow (ID-JAG) and includes them in the MCP request metadata.
# This ensures proper per-user, per-request token handling without storing
# tokens as static configuration.

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# Database connection is configured in prisma/schema.prisma
# Run 'pnpm run generate:schema' to generate Prisma client
# The default configuration uses SQLite with file: ./dev.db
